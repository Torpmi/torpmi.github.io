<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/iframe.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <title>Document</title>
</head>
<body>
    <header class="header">
        <div class="header__us">
            <div class="header__title">
                <img class="header__logo" src="Fotos/Logo-small.png" alt="Logo CRG">
                <p><a href="index.html" target="_parent">Granollers Urban Speed</a></p>
            </div>
            <form class="header__form">
                <input type="checkbox" id="open-menu">
                <label for="open-menu" class="material-symbols-outlined">menu</label>
                <label for="open-menu" class="material-symbols-outlined">close</label>
            </form>
        </div>
        <nav class="header__navbar">
            <div class="header__navbar-item">
                <p><a href="#" class="header__navbar-link" target="_parent">Sobre nosaltres</a></p>
            </div>
            <div class="header__navbar-item">
                <p><a href="competicions.html" class="header__navbar-link" target="_parent">Competicions i resultats</a></p>
            </div>
            <div class="header__navbar-item">
                <p><a href="contacte.html" class="header__navbar-link" target="_parent">Contacte</a></p>
            </div>
            <div class="header__navbar-item session-button">
                <p><a href="#" class="header__navbar-link" target="_parent">Inicia la sessió</a></p>
            </div>
            <div class="header__navbar-item session-button">
                <p><a href="#" class="header__navbar-link" target="_parent">Registra't</a></p>
            </div>
        </nav>
    </header>
    <script>
    function enviarAlcada() {
        const header = document.querySelector("header");
        if (header) {
            parent.postMessage({ id: "header", height: header.offsetHeight }, "*");
        }
    }

    // Enviar altura inicial
    window.onload = enviarAlcada;
    window.onresize = enviarAlcada;

    // Observar canvis en el DOM (per si el menú desplegable canvia l'alçada)
    const observer = new MutationObserver(enviarAlcada);
    const config = { attributes: true, childList: true, subtree: true };

    const header = document.querySelector("header");
    if (header) {
        observer.observe(header, config);
    }

    // També escoltar clics, perquè el menú podria desplegar-se per JavaScript
    document.addEventListener("click", enviarAlcada);
    </script>   
</body>
</html>